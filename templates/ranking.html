{% extends "base.html" %}

{% block title %}Ranking Global{% endblock %}

{% block header %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/ranking.css') }}">
{% endblock %}

{% block content %}
<div class="ranking-container">
    <div class="ranking-header">
        <span class="ranking-header-icon">‚òÖ</span>
        <h1 class="ranking-header-title">Ranking Global</h1>
    </div>
    
    <div class="ranking-card">
        <table class="ranking-table">
            <thead>
                <tr>
                    <th>Posici√≥n</th>
                    <th>Nombre</th>
                    <th>Puntos</th>
                    <th>Racha</th>
                    <th>Medallas</th>
                    <th>Asistencias</th>
                </tr>
            </thead>
            <tbody>
                {% for usuario in ranking %}
                <tr class="{% if loop.index == 1 %}ranking-gold{% elif loop.index == 2 %}ranking-silver{% elif loop.index == 3 %}ranking-bronze{% endif %}">
                    <td data-label="Posici√≥n">
                        {% if loop.index <= 3 %}
                            <span class="position-icon">‚òÖ</span>
                        {% else %}
                            <strong>{{ loop.index }}</strong>
                        {% endif %}
                    </td>
                    <td data-label="Nombre"><strong>{{ usuario.nombre }}</strong></td>
                    <td data-label="Puntos"><span class="badge">{{ usuario.puntos }} PTS</span></td>
                    <td data-label="Racha"><span class="badge">{{ usuario.racha }} üî•</span></td>
                    <td data-label="Medallas"><span class="badge">{{ usuario.total_medallas }} üèÜ</span></td>
                    <td data-label="Asistencias">{{ usuario.total_asistencias }}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js"></script>
<script>
// Animate header
anime({
    targets: '.ranking-header',
    opacity: [0, 1],
    translateY: [-50, 0],
    duration: 1000,
    easing: 'easeOutExpo'
});

// Animate table rows
anime({
    targets: '.ranking-table tbody tr',
    opacity: [0, 1],
    translateX: [-30, 0],
    delay: anime.stagger(100, {start: 500}),
    duration: 800,
    easing: 'easeOutExpo'
});
</script>
{% endblock %}
