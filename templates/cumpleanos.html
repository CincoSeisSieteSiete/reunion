{% extends "base.html" %}

{% block title %}Cumpleaños{% endblock %}

{% block content %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/cumpleanos.css') }}">

<h2>Cumpleaños de {{ hoy.strftime('%B %Y') }}</h2>

<div class="calendar">
    {% set dias_mes = hoy.replace(day=1).replace(month=hoy.month) %}
    {% set total_dias = (hoy.replace(month=hoy.month%12+1, day=1) - hoy.replace(day=1)).days %}
    
    {% for dia in range(1, total_dias + 1) %}
        {% set cumple_dia = [] %}
        {% for user in cumple_mes %}
            {% if user.fecha_nacimiento.day == dia %}
                {% set _ = cumple_dia.append(user.nombre) %}
            {% endif %}
        {% endfor %}
        
        <div class="calendar-day {% if dia == hoy.day %}today{% endif %}">
            <span class="day-number">{{ dia }}</span>
            {% for nombre in cumple_dia %}
                <div class="cumple">{{ nombre }}</div>
            {% endfor %}
        </div>
    {% endfor %}
</div>

<script>
    // Opcional: animaciones o alertas al pasar el mouse
document.querySelectorAll('.cumple').forEach(el => {
    el.addEventListener('mouseenter', () => {
        el.style.transform = 'scale(1.1)';
        el.style.transition = 'transform 0.2s';
    });
    el.addEventListener('mouseleave', () => {
        el.style.transform = 'scale(1)';
    });
});

</script>
{% endblock %}
